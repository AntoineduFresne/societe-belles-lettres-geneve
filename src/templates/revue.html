{% extends "layout.html" %}

{% block title %}{{ _('Revue') }} - {{ _('Société de Belles-Lettres Genève') }}{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero" style="background-image: url('{{ url_for('static', filename='img/revue-bg.jpg') }}');">
    <div class="hero-content">
        <h1>{{ _('La nouvelle revue de Belles-Lettres') }}</h1>
        <p>{{ _('Expression de beauté et d\'idées') }}</p>
    </div>
</section>

<!-- Review Section -->
<section id="review">
    <div class="container">
        <div class="section-title">
            <h2>{{ _('Notre revue') }}</h2>
        </div>
        
        <div class="review-intro">
            <p>{{ _('La nouvelle revue de Belles-Lettres est un espace d\'expression où les membres peuvent partager des essais, des textes et des œuvres sous forme de PDF. Ces textes n\'ont aucun but scientifique, littéraire ou de revendication d\'originalité ; ils sont simplement une expression de beauté et d\'idées, une compilation poétique sans visée commerciale.') }}</p>
        </div>
        
        <div class="review-container">
            <div class="review-list">
                <!-- Les textes seront ajoutés dynamiquement -->
                {% for text in texts %}
                <div class="review-item">
                    <h3>{{ text.title }}</h3>
                    <div class="review-meta">
                        <span class="author">{{ text.author }}</span> | 
                        <span class="date">{{ text.date }}</span>
                    </div>
                    <p>{{ text.description }}</p>
                    <div class="review-actions">
                        <a href="{{ url_for('static', filename='uploads/' + text.filename) }}" class="btn" target="_blank">{{ _('Télécharger le PDF') }}</a>
                    </div>
                </div>
                {% else %}
                <p class="text-center">{{ _('Aucun texte n\'a encore été publié dans la revue.') }}</p>
                {% endfor %}
            </div>
        </div>
        
        <div class="section-title" style="margin-top: 50px;">
            <h2>{{ _('Soumettre un texte') }}</h2>
        </div>
        
        <div class="upload-intro">
            <p>{{ _('Vous êtes membre de Belles-Lettres et souhaitez partager un texte dans notre revue ? Utilisez le formulaire ci-dessous pour soumettre votre œuvre. Veuillez noter que vous aurez besoin du code d\'authentification pour finaliser votre soumission.') }}</p>
        </div>
        
        <div class="upload-form">
            <form action="{{ url_for('upload_text', lang=g.lang) }}" method="post" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="title">{{ _('Titre') }} *</label>
                    <input type="text" id="title" name="title" required>
                </div>
                
                <div class="form-group">
                    <label for="author">{{ _('Auteur') }} *</label>
                    <input type="text" id="author" name="author" required>
                </div>
                
                <div class="form-group">
                    <label for="description">{{ _('Description') }} *</label>
                    <textarea id="description" name="description" rows="4" required></textarea>
                </div>
                
                <div class="form-group">
                    <label for="file">{{ _('Fichier PDF') }} *</label>
                    <input type="file" id="file" name="file" accept=".pdf" required>
                </div>
                
                <div class="form-group">
                    <label for="auth_code">{{ _('Code d\'authentification') }} *</label>
                    <input type="password" id="auth_code" name="auth_code" required>
                </div>
                
                <button type="submit" class="btn">{{ _('Soumettre') }}</button>
            </form>
        </div>
    </div>
</section>
{% endblock %}
